name: ğŸ§¹ Clean White and Black List

on:
  schedule:
    - cron: "10 0 * * *"   # æ¯å¤© 08:10ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
    - cron: "10 2 * * *"   # æ¯å¤© 10:10ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
    - cron: "10 4 * * *"   # æ¯å¤© 12:10ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
    - cron: "10 6 * * *"   # æ¯å¤© 14:10ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
    - cron: "10 8 * * *"   # æ¯å¤© 16:10ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
    - cron: "10 10 * * *"  # æ¯å¤© 18:10ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
    - cron: "10 12 * * *"  # æ¯å¤© 20:10ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
    - cron: "10 14 * * *"  # æ¯å¤© 22:10ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
    - cron: "10 16 * * *"  # æ¯å¤© 00:10ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
    - cron: "10 18 * * *"  # æ¯å¤© 02:10ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
    - cron: "10 20 * * *"  # æ¯å¤© 04:10ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
    - cron: "10 22 * * *"  # æ¯å¤© 06:10ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
  workflow_dispatch:  # æ”¯æŒæ‰‹åŠ¨è§¦å‘

permissions:
  contents: write

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: "3.11"

      - name: Install dependencies
        run: pip install requests

      - name: Run script
        run: python process_rules.py

      - name: Commit and push
        run: |
          git config user.name "github-actions"
          git config user.email "github-actions@github.com"
          git add cleaned_whitelist.txt cleaned_blocklist.txt last_count.txt
          git commit -m "ğŸ” è‡ªåŠ¨æ›´æ–°è§„åˆ™æ–‡ä»¶" || echo "No changes to commit"
          git push
